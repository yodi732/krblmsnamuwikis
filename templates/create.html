
{% extends "base.html" %}
{% block content %}
  <section class="panel">
    <h2>문서 만들기</h2>
    <form method="post" class="form">
      <label><input type="radio" name="mode" value="root" required> 상위 문서 만들기</label>
      <label><input type="radio" name="mode" value="child" required> 하위 문서 만들기</label>

      <div class="row">
        <label>제목</label>
        <input type="text" name="title" required>
      </div>

      <div class="row">
        <label>내용</label>
        <textarea name="content" rows="10"></textarea>
      </div>

      <div class="row">
        <label>상위 문서 (하위 문서를 만들 때만 선택)</label>
        <select name="parent_id">
          <option value="">-- 선택 --</option>
          {% for p in parents if p.parent_id is none %}
            <option value="{{ p.id }}">{{ p.title }}</option>
          {% endfor %}
        </select>
      </div>

      <button class="btn primary" type="submit">생성</button>
    </form>
  </section>
{% endblock %}
