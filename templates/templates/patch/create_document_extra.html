
{# 문서 생성 폼에 쌓아올리는 추가 필드 #}
<fieldset style="margin-top:16px">
  <legend>문서 위치</legend>
  <label><input type="radio" name="position_mode" value="top" checked> 상위 문서로 만들기</label>
  <label style="margin-left:16px"><input type="radio" name="position_mode" value="child"> 하위 문서로 만들기</label>
  <div id="parent-picker" style="margin-top:8px; display:none">
    <select name="parent_id">
      <option value="">부모 문서 선택…</option>
      {% for p in all_docs %}
        <option value="{{ p.id }}">{{ p.title }}</option>
      {% endfor %}
    </select>
  </div>
</fieldset>

<script>
document.addEventListener('change', function(e){
  if(e.target && e.target.name === 'position_mode'){
    const isChild = e.target.value === 'child';
    const box = document.getElementById('parent-picker');
    if(box){ box.style.display = isChild ? 'block' : 'none'; }
  }
});
</script>
