<!doctype html>
<html lang="ko">
  <head>
    <meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width, initial-scale=1"/>
    <title>{{ title or "ë³„ë‚´ìœ„í‚¤" }}</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
  </head>
  <body>
    <div class="nav">
      <div class="brand">ğŸ›ï¸ <a href="{{ url_for('index') }}" style="font-weight:700; color:inherit; text-decoration:none;">ë³„ë‚´ìœ„í‚¤</a></div>
      <a href="{{ url_for('new_document') }}">ë¬¸ì„œ ë§Œë“¤ê¸°</a>
      <a href="{{ url_for('list_documents') }}">ë¬¸ì„œ ëª©ë¡</a>
      {% if g.user %}
        <span class="badge">{{ g.user.email }}</span>
        <a class="btn secondary" href="{{ url_for('logout') }}">ë¡œê·¸ì•„ì›ƒ</a>
      {% else %}
        <a class="btn secondary" href="{{ url_for('login') }}">ë¡œê·¸ì¸</a>
        <a class="btn" href="{{ url_for('signup') }}">íšŒì›ê°€ì…</a>
      {% endif %}
    </div>
    <div class="container">{% with messages = get_flashed_messages() %}
      {% if messages %}<div class="card" style="margin-bottom:14px;">{% for m in messages %}<div>{{ m }}</div>{% endfor %}</div>{% endif %}{% endwith %}
      {% block content %}{% endblock %}
    </div>
    <div class="footer">
      <div>
        <a href="{{ url_for('doc_by_title', title='ì´ìš©ì•½ê´€') }}">ì´ìš©ì•½ê´€</a> Â·
        <a href="{{ url_for('doc_by_title', title='ê°œì¸ì •ë³´ì²˜ë¦¬ë°©ì¹¨') }}">ê°œì¸ì •ë³´ì²˜ë¦¬ë°©ì¹¨</a>
      </div>
      <div>í”¼ë“œë°± ë¬¸ì˜ â†’ <a href="mailto:lyhjs1115@gmail.com">lyhjs1115@gmail.com</a></div>
    </div>
    <script>
      function confirmDeleteAccount(ev, url){
        if(!confirm('ì •ë§ íƒˆí‡´í•˜ì‹œê² ìŠµë‹ˆê¹Œ?')){ ev.preventDefault(); return false; }
        // proceed
        fetch(url, {method:'POST', headers:{'Content-Type':'application/json'}})
          .then(()=>{ window.location.href='{{ url_for('index') }}'; });
        ev.preventDefault();
        return false;
      }
    </script>
  </body>
</html>
