{% extends "base.html" %}
{% block content %}
  {% include "components/top_actions.html" %}
  <h2>{{ '새 문서' if not doc else '문서 편집' }}</h2>
  <form method="post">
    <div class="row">
      <div style="width:100px">문서 종류</div>
      <div>
        <label><input type="radio" name="mode" value="parent" {% if mode=='parent' %}checked{% endif %}> 상위 문서</label>
        <label style="margin-left:12px;"><input type="radio" name="mode" value="child" {% if mode=='child' %}checked{% endif %}> 하위 문서</label>
        <select name="parent_id" style="margin-left:8px; min-width:260px;">
          <option value="">(부모 선택)</option>
          {% for p in parents %}
            <option value="{{ p.id }}" {% if doc and doc.parent_id==p.id %}selected{% endif %}>#{{ p.id }} {{ p.title }}</option>
          {% endfor %}
        </select>
      </div>
    </div>
    <div class="row">
      <div style="width:100px">제목</div>
      <div><input type="text" name="title" value="{{ doc.title if doc else '' }}" style="width:560px"></div>
    </div>
    <div class="row">
      <div style="width:100px">내용</div>
      <div><textarea name="content" rows="14" style="width:760px">{{ doc.content if doc else '' }}</textarea></div>
    </div>
    <div class="row">
      <div style="width:100px"></div>
      <div>
        <button class="btn" type="submit">만들기</button>
        <a class="btn" href="{{ url_for('home') }}">홈으로</a>
      </div>
    </div>
  </form>
{% endblock %}
