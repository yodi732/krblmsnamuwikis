
{% extends "base.html" %}
{% block content %}
<div class="row between vcenter mb8">
  <h2 class="page-title">{{ doc.title }}</h2>
  {% if g.user %}
  <div class="actions">
    <a class="btn" href="{{ url_for('edit_document', doc_id=doc.id) }}">수정</a>
    <form method="post" action="{{ url_for('delete_document', doc_id=doc.id) }}" onsubmit="return confirm('문서를 삭제할까요? 하위 문서도 함께 삭제됩니다.');">
      <button class="btn danger" type="submit">삭제</button>
    </form>
  </div>
  {% endif %}
</div>

<div class="card content">
  <pre style="white-space:pre-wrap">{{ doc.content }}</pre>
</div>

{% if children %}
<div class="card mt12">
  <h3>하위 문서</h3>
  <ul>
    {% for c in children %}
      <li><a href="{{ url_for('view_document', doc_id=c.id) }}">{{ c.title }}</a></li>
    {% endfor %}
  </ul>
</div>
{% endif %}
{% endblock %}
