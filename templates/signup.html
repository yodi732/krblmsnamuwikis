{% extends "base.html" %}
{% block title %}회원가입 - 별내위키{% endblock %}
{% block content %}
  <h1>회원가입</h1>
  <form method="post">
    <div class="row">
      <label>이메일</label><br>
      <input type="email" name="email" required>
    </div>
    <div class="row">
      <label>비밀번호</label><br>
      <input type="password" name="password" required>
    </div>

    <div class="agreements">
      <label class="chk">
        <input type="checkbox" id="agreeTerms" required>
        [필수] 별내위키 이용약관을 읽고 동의합니다.
        <a href="{{ url_for('legal_terms') }}" target="_blank">전문 보기</a>
      </label>
      <label class="chk">
        <input type="checkbox" id="agreePrivacy" required>
        [필수] 개인정보처리방침을 읽고 동의합니다.
        <a href="{{ url_for('legal_privacy') }}" target="_blank">전문 보기</a>
      </label>
    </div>

    <button id="signupBtn" class="btn primary" type="submit" disabled>회원가입</button>
  </form>

  <script>
    (function () {
      const t = document.getElementById('agreeTerms');
      const p = document.getElementById('agreePrivacy');
      const btn = document.getElementById('signupBtn');
      function toggle(){ btn.disabled = !(t.checked && p.checked); }
      t.addEventListener('change', toggle);
      p.addEventListener('change', toggle);
      toggle();
    })();
  </script>
{% endblock %}
