
{% extends "base.html" %}
{% block content %}
  <article class="panel">
    <div class="page-header">
      <h2>{{ page.title }}</h2>
      <div class="page-actions">
        <a class="btn" href="{{ url_for('edit_page', pid=page.id) }}">수정</a>
        <form id="delForm" method="post" action="{{ url_for('delete_page', pid=page.id) }}" style="display:inline;">
          <a href="#" class="btn danger" onclick="if(confirm('정말 삭제하시겠습니까?')){ document.getElementById('delForm').submit(); } return false;">삭제</a>
        </form>
      </div>
    </div>

    {% if page.parent %}
      <p class="muted">상위 문서: <a href="{{ url_for('view_page', pid=page.parent.id) }}">{{ page.parent.title }}</a></p>
    {% endif %}

    <div class="content">{{ page.content|safe }}</div>

    {% if page.children %}
      <h3>하위 문서</h3>
      <ul>
        {% for c in page.children %}
          <li><a href="{{ url_for('view_page', pid=c.id) }}">{{ c.title }}</a></li>
        {% endfor %}
      </ul>
    {% endif %}
  </article>
{% endblock %}
