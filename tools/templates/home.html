{% extends "base.html" %}
{% block content %}
<h2>홈</h2>
{% macro render_node(n, depth) -%}
  <div style="margin-left: {{ depth * 16 }}px; padding:2px 0;">
    <a href="{{ url_for('view_document', doc_id=n.id) }}">{{ n.title }}</a>
    {% set _doc = n %}
    {% include "components/edit_button_inline.html" with context %}
    {% include "components/delete_button_inline.html" with context %}
  </div>
  {% for c in n._children_sorted %}
    {{ render_node(c, depth+1) }}
  {% endfor %}
{%- endmacro %}
<div class="list">
  {% for r in roots %}
    {{ render_node(r, 0) }}
  {% else %}
    <div class="row">문서가 없습니다.</div>
  {% endfor %}
</div>
{% endblock %}
